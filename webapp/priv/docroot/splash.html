<!DOCTYPE html>
<html>
  <head>
    <title>Welcome</title>
    <script>
    function proceed() {
        // Signal the server to prepare for portal resolution
        fetch("/captive_portal_ack", { method: "GET", mode: "no-cors" })
            .then(() => {
                console.log('Acknowledgment sent to server');
                // Redirect to the next page
                window.location.href = 'http://bespoke.local/posts.html';
            })
            .catch(err => console.error('Error:', err));
    }
    </script>
  </head>
  <body>
    <a href="javascript:void(0)" target="_blank" onclick="proceed()">Click here to continue</a>
  </body>
</html>
